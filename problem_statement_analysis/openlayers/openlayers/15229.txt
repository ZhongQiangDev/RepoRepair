Let me analyze the GitHub issue:

### Answer 1
**Wrong Behavior**: Icons appear stretched/distorted when displayed in a non-square viewport
**Cause**: The WebGLPoints layer is not properly handling aspect ratio compensation when `icon-rotate-with-view: true` is enabled. The rendering logic likely assumes a 1:1 aspect ratio for the viewport, causing improper scaling when the viewport is rectangular.

### Answer 2
**Wrong Behavior**: The distortion appears more pronounced when the map is rotated
**Cause**: The rotation transformation matrix used for the `icon-rotate-with-view` feature is probably not taking into account the viewport's aspect ratio, leading to uneven scaling along different axes when rotation is applied.

### Answer 3
**Wrong Behavior**: The issue cannot be reproduced in the test framework
**Cause**: The testing environment forces a square viewport, which masks the underlying aspect ratio handling issue. This indicates the test framework may need enhancement to support testing with different viewport dimensions.

### Conclusion
**Summary**: The core issue stems from improper handling of viewport aspect ratios in the WebGLPoints layer, particularly when rotation is involved. The problem manifests in three ways: icon distortion in non-square viewports, increased distortion with rotation, and inability to test due to framework limitations. The main technical fix likely needs to focus on properly incorporating viewport aspect ratio calculations into the WebGL rendering pipeline, especially in the transformation matrices used for icon rotation and scaling. Additionally, the test framework should be enhanced to support non-square viewport testing scenarios.