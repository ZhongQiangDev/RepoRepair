### Answer 1
**Wrong Behavior**: The diagram jumps when wrapping the process in a pool.
**Cause**: The wrapping process might be causing a re-rendering of the diagram, which leads to a viewport reset. This could be due to the library not preserving the current viewport state during the wrapping operation.

### Answer 2
**Wrong Behavior**: The diagram does not stay in the current viewport after wrapping.
**Cause**: The library might not be correctly calculating the new position of the elements after wrapping. This could be due to incorrect offset calculations or not updating the scroll position accordingly.

### Answer 3
**Wrong Behavior**: The wrapping process causes the diagram to shift unexpectedly.
**Cause**: There might be an issue with the layout algorithm used by the library. The algorithm might not be accounting for the new dimensions and positions of the elements after wrapping, leading to unexpected shifts.

### Conclusion
**Summary**: The main issues are related to the viewport reset, incorrect offset calculations, and layout algorithm problems. The library needs to ensure that the current viewport state is preserved during the wrapping operation, correctly calculate the new positions of the elements, and properly account for the new dimensions and positions in the layout algorithm. This will help in maintaining the expected behavior of the diagram staying in the current viewport after wrapping.