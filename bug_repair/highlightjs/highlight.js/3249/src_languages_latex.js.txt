To address the issue of case-insensitive matching for TeX magic comments, we need to modify the `MAGIC_COMMENT` rule in the `latex.js` file. Specifically, we need to ensure that the `begin` regex for `MAGIC_COMMENT` is case-insensitive.

Here's the required *SEARCH/REPLACE* edit:

```javascript
### src/languages/latex.js
<<<<<<< SEARCH
    const MAGIC_COMMENT = {
      className: 'meta',
      begin: '% !TeX',
      end: '$',
      relevance: 10
    };
=======
    const MAGIC_COMMENT = {
      className: 'meta',
      begin: '% !TeX', // Make this case-insensitive
      end: '$',
      relevance: 10,
      flags: 'i' // Add case-insensitive flag
    };
>>>>>>> REPLACE
```

This change adds the `flags: 'i'` property to the `MAGIC_COMMENT` rule, making the regex case-insensitive. This ensures that both `!TeX` and `!TEX` will be matched correctly.
