```javascript
### src/ol/source/GeoTIFF.js
<<<<<<< SEARCH
if (sourceValue !== nodata) {
  transparent = false;
  data[dataIndex] = value;
}
=======
if (isNaN(sourceValue) || sourceValue === nodata) {
  transparent = true;
  data[dataIndex] = value;
} else {
  transparent = false;
  data[dataIndex] = value;
}
>>>>>>> REPLACE
```

```javascript
### src/ol/source/GeoTIFF.js
<<<<<<< SEARCH
if (addAlpha) {
  if (!transparent) {
    data[dataIndex] = 255;
  }
  dataIndex++;
}
=======
if (addAlpha) {
  data[dataIndex] = transparent ? 0 : 255;
  dataIndex++;
}
>>>>>>> REPLACE
```

```javascript
### src/ol/source/GeoTIFF.js
<<<<<<< SEARCH
let fillValue;
if (!isNaN(source.nodata)) {
  fillValue = source.nodata;
} else {
  if (!samples) {
    fillValue = nodataValues[sourceIndex];
  } else {
    fillValue = samples.map(function (sampleIndex) {
      return nodataValues[sourceIndex][sampleIndex];
    });
  }
}
=======
let fillValue = NaN;
if (source.nodata !== undefined) {
  fillValue = source.nodata;
} else {
  if (!samples) {
    fillValue = nodataValues[sourceIndex];
  } else {
    fillValue = samples.map(function (sampleIndex) {
      return nodataValues[sourceIndex][sampleIndex];
    });
  }
}
if (isNaN(fillValue)) {
  fillValue = NaN;
}
>>>>>>> REPLACE
```
