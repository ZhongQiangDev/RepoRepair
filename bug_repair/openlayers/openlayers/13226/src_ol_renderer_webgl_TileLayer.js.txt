```javascript
### src/ol/renderer/webgl/TileLayer.js
<<<<<<< SEARCH
    if (!source.getWrapX()) {
      const gridExtent = source.tileGrid.getExtent();
      if (gridExtent) {
        extent = getIntersection(extent, gridExtent);
      }
    }
=======
    if (!source.getWrapX()) {
      const tileGrid = source.getTileGridForProjection(frameState.viewState.projection);
      if (tileGrid) {
        const gridExtent = tileGrid.getExtent();
        if (gridExtent) {
          extent = getIntersection(extent, gridExtent);
        }
      }
    }
>>>>>>> REPLACE
```
