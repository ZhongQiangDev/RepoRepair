To implement the "Select all" feature as requested, we need to add a new prop to the `TableBatchActions` component that allows for the inclusion of a "Select all" button. We'll also need to handle the logic for selecting all items across all pages.

Here's how we can modify the `TableBatchActions.js` file:

```javascript
###packages/react/src/components/DataTable/TableBatchActions.js
<<<<<<< SEARCH
const TableBatchActions = ({
  className,
  children,
  shouldShowBatchActions,
  totalSelected,
  onCancel,
  translateWithId: t,
  ...rest
}) => {
=======
const TableBatchActions = ({
  className,
  children,
  shouldShowBatchActions,
  totalSelected,
  onCancel,
  translateWithId: t,
  onSelectAll, // New prop for handling select all action
  showSelectAllButton = false, // New prop to control the visibility of the select all button
  ...rest
}) => {
  // ... existing code ...

  const handleSelectAll = () => {
    if (onSelectAll) {
      onSelectAll();
    }
  };

  return (
    <div
      // ... existing code ...
      <div className={batchSummaryClasses}>
        <p className={`${prefix}--batch-summary__para`}>
          <Text as="span">
            {totalSelected > 1 || totalSelected === 0
              ? t('carbon.table.batch.items.selected', { totalSelected })
              : t('carbon.table.batch.item.selected', { totalSelected })}
          </Text>
          {showSelectAllButton && (
            <Button
              className={`${prefix}--batch-summary__select-all`}
              onClick={handleSelectAll}
            >
              Select all ({/* totalItems */})
            </Button>
          )}
        </p>
      </div>
      // ... existing code ...
    </div>
  );
};

// ... existing code ...

TableBatchActions.propTypes = {
  // ... existing code ...
  onSelectAll: PropTypes.func, // New prop type for onSelectAll
  showSelectAllButton: PropTypes.bool, // New prop type for showSelectAllButton
};

TableBatchActions.defaultProps = {
  // ... existing code ...
  onSelectAll: () => {}, // Default value for onSelectAll
  showSelectAllButton: false, // Default value for showSelectAllButton
};
>>>>>>> REPLACE
```

This modification adds the `onSelectAll` prop to handle the action of selecting all items and the `showSelectAllButton` prop to control the visibility of the "Select all" button. The `handleSelectAll` function is added to call the `onSelectAll` prop when the "Select all" button is clicked. The button is conditionally rendered based on the `showSelectAllButton` prop.
