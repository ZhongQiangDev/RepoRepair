The issue described is related to the rendering of vertical pools and their labels in BPMN diagrams. The current implementation does not account for the `isHorizontal` property when rendering the pool, leading to incorrect label placement. To address this, we need to modify the code to consider the orientation of the pool when calculating the label position.

Here's the proposed fix:

```javascript
### lib/features/modeling/behavior/LabelBehavior.js
<<<<<<< SEARCH
function getVisibleLabelAdjustment(event) {

    var context = event.context,
        connection = context.connection,
        label = connection.label,
        hints = assign({}, context.hints),
        newWaypoints = context.newWaypoints || connection.waypoints,
        oldWaypoints = context.oldWaypoints;

    if (typeof hints.startChanged === 'undefined') {
      hints.startChanged = !!hints.connectionStart;
    }

    if (typeof hints.endChanged === 'undefined') {
      hints.endChanged = !!hints.connectionEnd;
    }

    return getLabelAdjustment(label, newWaypoints, oldWaypoints, hints);
}
=======
function getVisibleLabelAdjustment(event) {

    var context = event.context,
        connection = context.connection,
        label = connection.label,
        hints = assign({}, context.hints),
        newWaypoints = context.newWaypoints || connection.waypoints,
        oldWaypoints = context.oldWaypoints;

    if (typeof hints.startChanged === 'undefined') {
      hints.startChanged = !!hints.connectionStart;
    }

    if (typeof hints.endChanged === 'undefined') {
      hints.endChanged = !!hints.connectionEnd;
    }

    // Check if the pool is vertical
    var isVerticalPool = connection && connection.businessObject && connection.businessObject.$type === 'bpmn:Participant' && !connection.businessObject.isHorizontal;

    if (isVerticalPool) {
      // Adjust label position for vertical pools
      var labelAdjustment = getLabelAdjustment(label, newWaypoints, oldWaypoints, hints);
      labelAdjustment.x = -labelAdjustment.y; // Swap x and y for vertical orientation
      labelAdjustment.y = labelAdjustment.x;
      return labelAdjustment;
    }

    return getLabelAdjustment(label, newWaypoints, oldWaypoints, hints);
}
>>>>>>> REPLACE
```

This modification checks if the pool is vertical by examining the `isHorizontal` property. If the pool is vertical, it adjusts the label position accordingly by swapping the x and y coordinates of the label adjustment. This should correctly render the labels for vertical pools.
