The issue described involves two bugs:

1. **Resizing of labels to minimum bounds when completing direct editing with an empty label**.
2. **Shapes of events and gateways becoming smaller and disappearing when clicked**.

### Bug 1: Resizing of labels to minimum bounds

The first bug is related to the `LabelEditingProvider.prototype.update` function. When an empty label is provided, the function sets `newLabel` to `null` and updates the label with `newLabel` and `newBounds`. This causes the label to resize to minimum bounds.

To fix this, we need to ensure that the label is not updated with `null` when an empty label is provided. We can add a check to skip the update if `newLabel` is `null`.

```javascript
### lib/features/label-editing/LabelEditingProvider.js
<<<<<<< SEARCH
if (isEmptyText(newLabel)) {
  newLabel = null;
}

this._modeling.updateLabel(element, newLabel, newBounds);
=======
if (isEmptyText(newLabel)) {
  newLabel = null;
} else {
  this._modeling.updateLabel(element, newLabel, newBounds);
}
>>>>>>> REPLACE
```

### Bug 2: Shapes of events and gateways becoming smaller and disappearing

The second bug is related to the resizing of shapes when they are clicked. This issue is likely caused by the `update` function in the `LabelEditingProvider` class. When an event or gateway is clicked, the `update` function is called with `newLabel` set to `null`, causing the shape to resize to minimum bounds.

To fix this, we need to ensure that the `update` function does not resize the shape when `newLabel` is `null`. We can add a check to skip the update if `newLabel` is `null`.

```javascript
### lib/features/label-editing/LabelEditingProvider.js
<<<<<<< SEARCH
if (isEmptyText(newLabel)) {
  newLabel = null;
}

this._modeling.updateLabel(element, newLabel, newBounds);
=======
if (isEmptyText(newLabel)) {
  newLabel = null;
} else {
  this._modeling.updateLabel(element, newLabel, newBounds);
}
>>>>>>> REPLACE
```

### Summary

The above changes should fix both bugs. The first change ensures that labels are not resized to minimum bounds when an empty label is provided. The second change ensures that shapes are not resized when they are clicked.
