1. **Wrong Behavior**: The heredoc without interpolation (`<<-'MESSAGE'`) is not being highlighted correctly as a string. Instead, it appears to be treated as regular code, causing the content within the heredoc to lose proper string highlighting.

2. **Cause Analysis**: The issue likely stems from the syntax highlighting rules for Ruby not properly recognizing the heredoc syntax when it's used with single quotes (`<<-'MESSAGE'`). This specific syntax is used to prevent string interpolation, but the current highlighting configuration may not account for this variation, leading to incorrect highlighting.

3. **Files Related to the Cause**:
```
src/languages/ruby.js
```
This file contains the syntax highlighting configuration for Ruby. It defines the rules for recognizing and highlighting various Ruby syntax elements, including strings and heredocs. Adjustments here would directly address the issue with heredoc highlighting.

```
src/lib/modes.js
```
This file contains utility functions for creating syntax highlighting modes, which might be used in the Ruby configuration. If the heredoc mode is defined or referenced here, changes might be necessary.

```
types/index.d.ts
```
This file defines TypeScript types and interfaces related to syntax highlighting. If there are types or interfaces that define how heredocs should be handled, they might need to be updated.

```
src/lib/utils.js
```
This file contains utility functions that might be used in the highlighting process. If there are functions that process or manipulate the highlighting rules, they could be relevant.

```
tools/checkAutoDetect.js
```
This file contains functions for testing auto-detection of languages. While not directly related to the highlighting rules, it could be useful for testing the fix after making changes.
