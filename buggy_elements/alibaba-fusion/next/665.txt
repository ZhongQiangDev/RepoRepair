### 1. Identify the Wrong Behavior Involved in `GitHub Problem Description`

The GitHub problem description indicates an issue with the custom header cell in a table, specifically regarding the "全选" (Select All) functionality. The image shows a custom header cell with checkboxes for selecting rows, but the "Select All" checkbox does not seem to function as expected. The "设置前（当前值）" column shows that some values are set to "未设置" (Not Set), which might indicate that the selection state is not being properly managed or updated.

### 2. Analyze the Cause Behind the Wrong Behavior

The issue likely stems from how the "Select All" checkbox interacts with the row selection logic. The "Select All" checkbox should update the selection state for all rows, but it appears that this is not happening correctly. Possible causes include:
- Incorrect handling of the `selectedRowKeys` state.
- Issues with the `onSelectAll` callback not being triggered or not updating the state properly.
- Problems with the `rowSelection` configuration not being applied correctly.

### 3. Examine Each File One by One

#### --- docs/table/theme/index.jsx ---
This file contains no relevant functions/classes.

#### --- src/table/base.jsx ---
This file contains no relevant functions/classes.

#### --- src/table/selection.jsx ---
```
src/table/selection.jsx
function: selection
class: SelectionTable
```
The `selection` function and `SelectionTable` class are directly related to row selection functionality. The `selection` function enhances a base component with selection features, including the "Select All" checkbox. The `SelectionTable` class manages the selection state and handles callbacks for selection changes.

#### --- src/table/expanded/row.jsx ---
This file contains no relevant functions/classes.

#### --- src/table/tree/cell.jsx ---
This file contains no relevant functions/classes.

### Summary of Relevant Locations

```
src/table/selection.jsx
function: selection
class: SelectionTable
```
