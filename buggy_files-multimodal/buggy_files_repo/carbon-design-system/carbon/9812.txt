Let me analyze this step by step:

1. Wrong Behavior:
- Poor contrast on shadows for dark themes (G90 and G100)
- Specifically in overflow menu shadows and modal page overlays
- Current overlay color is #161616 with insufficient contrast

2. Cause Analysis:
- The issue stems from shadow and overlay opacity values not being optimized for dark themes
- For overflow menus: shadows need 70-80% opacity for better contrast
- For modal overlays: color needs to change from #161616 to #000000 with 65% opacity
- This is primarily a theming and styling issue related to Carbon's dark mode implementation

3. Most Related Files:
```
packages/themes/src/tokens.js
packages/react/src/components/Modal/Modal.js
packages/themes/src/tools.js
packages/react/src/components/OverflowMenuItem/OverflowMenuItem-test.js
packages/themes/tasks/builders/themes.js
```

These files are most relevant because:
- tokens.js handles the core token definitions including colors and opacities
- Modal.js contains the modal overlay implementation
- tools.js has color manipulation utilities
- OverflowMenuItem-test.js relates to overflow menu styling
- themes.js handles theme building including dark themes

The fix would primarily involve modifying the token definitions and theme configurations in these files to adjust the shadow and overlay properties for dark themes.
