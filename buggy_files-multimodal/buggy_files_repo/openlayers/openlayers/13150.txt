I'll analyze the GitHub problem description and identify the files that need to be edited to fix the issue with the heatmap layer opacity option being ignored.

## Identifying the Wrong Behavior
The problem is that setting the `opacity` option in `ol/layer/Heatmap` has no effect. This was working in version 6.9.0 but is broken in the latest version. The opacity setting still works for WebGL Points layers, suggesting this is a specific issue with the Heatmap layer implementation.

## Analyzing the Cause
Based on the description, the issue appears to be that the opacity property is being set but not properly applied to the heatmap layer during rendering. Since the problem is specific to heatmap layers and not other WebGL-based layers, the issue is likely in the heatmap layer implementation or its renderer.

The problem might be in:
1. The Heatmap layer class not properly passing the opacity value to its renderer
2. The WebGL renderer for heatmap layers not applying the opacity value
3. A regression in how opacity is handled for WebGL-based heatmap rendering

## Files Most Related to the Cause

```
src/ol/layer/Heatmap.js
src/ol/renderer/webgl/PointsLayer.js
src/ol/webgl/Helper.js
src/ol/webgl/PostProcessingPass.js
src/ol/layer/BaseVector.js
```

The `src/ol/layer/Heatmap.js` file is most critical as it defines the Heatmap layer class and how it handles properties like opacity. From the repository information, we can see it extends `VectorLayer` and uses `WebGLPointsLayerRenderer` for rendering.

The `src/ol/renderer/webgl/PointsLayer.js` file is important because it handles the WebGL rendering of points, which is used by the heatmap layer. The issue might be in how this renderer processes the opacity value.

The `src/ol/webgl/Helper.js` and `src/ol/webgl/PostProcessingPass.js` files are relevant because they handle WebGL rendering operations and post-processing, which could affect how opacity is applied.

Finally, `src/ol/layer/BaseVector.js` is included because it's likely a parent class that might handle common properties like opacity for vector-based layers, which could affect how the heatmap layer inherits and processes this property.
