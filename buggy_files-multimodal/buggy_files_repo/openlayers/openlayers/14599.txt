I'll analyze the GitHub problem description and identify the files that need to be edited to fix the issue.

## Understanding the Problem

The issue involves attributions being displayed from a layer that is part of an invisible group layer. Specifically:
1. A group layer has its visibility set to false (`[1]` in the screenshot)
2. A sub-layer within that group has its visibility set to true (`[2]` in the screenshot)
3. The attributions from the sub-layer's WMS source (`[3]` in the screenshot) are still being displayed in the info popup, despite the parent group layer being invisible

This is incorrect behavior because attributions should only be shown for layers that are actually visible to the user. If a parent group layer is invisible, all of its children should be treated as invisible for attribution purposes, regardless of their individual visibility settings.

## Analyzing the Cause

The issue is likely in how OpenLayers determines which attributions to display. The current implementation appears to be checking the visibility of individual layers but not considering the visibility of their parent group layers.

When collecting attributions to display, the code should:
1. Check if a layer is visible
2. For layers within groups, also check if all parent groups are visible
3. Only include attributions from layers that are truly visible (both the layer itself and all its parent groups)

## Files That Need to Be Edited

Based on the repository information, these are the most relevant files that would need to be modified to fix this issue:

```
src/ol/control/Attribution.js
src/ol/layer/Group.js
src/ol/layer/Base.js
src/ol/renderer/Map.js
src/ol/layer/Layer.js
```

The most important file is `src/ol/control/Attribution.js` which contains the `getSourceAttributions_` method that collects attributions from visible layers. This method likely needs to be modified to properly check the visibility of parent group layers.

The `src/ol/layer/Group.js` file is also critical as it defines how group layers manage their children and how visibility is propagated.

The other files provide supporting functionality for layer management, visibility, and rendering that may need adjustments to ensure consistent behavior.
