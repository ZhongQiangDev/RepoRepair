Let me help analyze this step by step:

1. Wrong Behavior:
The Dataset repr output does not show units for coordinates and data variables, making it less informative for users. Currently it shows only variable names, dimensions and data types, but omits important unit information that would help users understand the physical quantities being represented.

2. Cause Analysis:
The issue stems from how the Dataset and Variable representation is formatted in the formatting.py file. The current implementation does not extract and display unit information from the variable attributes, even though this information is typically stored in the .attrs dictionary of variables with a 'units' key.

3. Relevant Functions/Classes Analysis:

xarray/core/common.py:
This file contains no relevant functions/classes.

xarray/core/dataarray.py:
```
xarray/core/dataarray.py
class: DataArray
```

xarray/core/dataset.py:
```
xarray/core/dataset.py
class: Dataset
```

xarray/core/formatting.py:
```
xarray/core/formatting.py
function: dataset_repr
function: summarize_variable 
function: summarize_coord
function: summarize_datavar
function: _mapping_repr
```

xarray/core/variable.py:
```
xarray/core/variable.py
class: Variable
class: IndexVariable
```

The key functionality for displaying units would need to be added to the formatting functions in formatting.py, particularly in summarize_variable which handles how individual variables are displayed. The Variable and IndexVariable classes contain the actual unit information in their attrs dictionary, while Dataset and DataArray classes provide the high-level container functionality. The formatting functions would need to be modified to extract and display the units from the variable attributes.
